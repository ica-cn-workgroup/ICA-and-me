# 5. 建模效果

对生化反应过程的充分理解是实现自动化控制的关键。模型工作应该谨记爱因斯坦的一句话“务必尽可能地简洁明了，但又不能简化”。过去几十年的研究，研究人员提出了许多不同的模型，努力去深化理解生物营养物去除过程、厌氧消化过程以及澄清沉淀过程的机理和动力学。其中一类模型致力于将涉及到的过程、基质和微生物的知识全部囊括在一起。另外一些模型作为控制的基础模型发展起来。模型是对实际发生情况的抽象描述，用以决策支持（Daigger，2011）。因此，模型的价值不在于其描述的全面性，而是在于其在辅助做出决策、设计、控制和操作等方面的可行性。

## 5.1 活性污泥反应器模型

19世纪70年代，通过John F. Andrews教授团队的努力，活性污泥动力学模型有了很大的进步。John F. Andrews教授最初在克莱姆森大学从事科研工作，随后前往休斯顿的休斯顿大学和莱斯大学。活性污泥法工艺降解有机物的过程主要有三个重要的操作参数：污泥回流量、剩余污泥量和曝气量。基于Busby的博士论文研究，Busby和Andrews（1973）提出了步长进水控制（step feed control）。步长进水控制方法并非首次提出，早在19世纪40年代就由Bill Torpey就曾指出接触模式（contacting pattern）的变化能够有效控制污泥膨胀（Torpey， 1948）。Busby和Andrews建立了一个动力学模型并采用计算机模拟器研究了步长进水控制的优势。步长进水模型将污泥储存内聚物的能力考虑进来，同时控制策略将污泥MLVSS有活性的的和惰性的成分两个因素考虑进来。该模型包含曝气池和终沉池。Busby和Andrews（1975）、Stenstrom（1975）为活性污泥模型做出了卓越的贡献。Olsson等（Olsson et al., 1985b）试图形成一套标准方法描述并模拟复杂的污水处理系统，最终形成一个“数据库”。一个模型系统既要有对去除C、N反应器的描述的模型模块，又要有描述沉淀池和澄清池的模块。随后，该模型系统在Simnon模拟器上进行实验应用。发展最为迅速的商业污水模型软件致使Olsson实验室研发的“数据库”落伍了。GPS模拟软件的第一个版本由Patry和Takács（1990）发布，其实际上也采用了一些“Olsson模型”。

自从十九世纪70年代起，活性污泥模型进展显著。一个明显的标志是ICA会议上模型论文发表量明显增大，这在之前已经提到过了。几个ICA专家组外的课题组也开始研究模拟巩固走。生物营养盐去除和厌氧消化的研究有了令人瞩目的进展，更容易被人所理解。一系列关于模型的论坛被举办，第一次是1985年由Pau Harremoës倡导在丹麦的KolleKolle举行。此外，第一届和第二届IWA/WEF污水处理模型论坛（WWTMod）分别于2008年和2010年在加拿大魁北克圣安娜山举行。  
活性污泥1号模型（ASM1）于1985年问世（Henze et al., 1987a,b）是活性污泥模型和ICA发展的真正的里程碑。在ASM1模型后出现的活性污泥模型（Henze et al., 1995, 2000）,厌氧消化模型（Batstone et al., 2002），生物膜模型\(Eberl et al., 2006\)都致力于涉及到反应过程的机理知识和动力学行为知识囊括在内。模型带来的影响是显著的。模型从最初的一个科研研究工具发展为具有商业价值并广泛应用的工具。模型被应用与实际污水厂设计，同时也作为实际水厂的参照物用于测试不同控制和操作方法。

ASM1模型是对活性污泥去除碳、氮过程深入理解的产物然而。ASM系列模型不能和在线测量相统一（Holmberg, 1982; Jeppsson and Olsson, 1993; Jeppsson, 1996; Julien et al., 1998），因此，还需要简单化的模型形成控制基础，例如模型预测控制。但是，ASM系列模型有其他用处。未经校准的模型，可以用于比较不同的的控制结构（哪个传感器和哪个控制器相连）以及控制算法。模拟结果在数值上可能不是完全正确但是只要在数量级和变化率上能模拟正确，那么我们就能获得一些信息。此外，还需要校准模型用于控制器的调试和使用。

ASM系列模型的数据来源于分光光度发和滴定法测定。进水中容易降解COD和氮的含量可以测量，硝化菌活性和比生长率也可以测定\(Gerneay et al., 1997, 2001; Yuan et al., 1999; Yuan and Bogaert, 2001\)。但是，ASM模型却很少应用于实际工程操作中。

随着对过程机理认识的不断深化，模型也变的越来越复杂。正如Gujer \(2011\)指出模型的复杂度发生了指数级增长，这与计算机计算能力的增长想关。但是，我们经常将复杂性和准确性混为一谈。模型中增多一个方程并不一定意味着模型准确度提高。当然，如果模型更详细，那么就能更好的理解对定性行为（qualitative behaviour）以及系统内部各因素关联关系。此时，在对模型更加信任的同时，也伴随着风险。

## 5.2 澄清池沉淀池动态模型

模型一直以来指的是反应器内生化过程的模型。然而，许多人早就意识到基质被氧化阶段和泥水分离阶段是不可割裂的。最初，对沉淀池控制采用简单的线性控制器（Busby and Andrews, 1973）。剩余污泥排放率![](/ch05/fw.JPG)定义为

![](/ch05/ep1.JPG)

其中，Z指的是污泥床的高度；![](/ch05/fw0.JPG)和![](/ch05/z0.JPG)是常数。如果污泥床高度低于[![](/ch05/z0.JPG)](https://www.gitbook.com/editor/windows/download)，此时剩余污泥排放率设定为0.这种控制策略避免了悬浮颗粒进入澄清池出水的现象，但是会造成剩余污泥排放量过大的问题。  
另外一种控制策略为根据污泥床高度Z控制污泥外回流率Fr：

![](/ch05/ep2.JPG)

其中，![](/ch05/fr0.JPG)、KF和Z1是常数。如果污泥床高度低于Z1，污泥回流率设定值为![](/ch05/fr0.JPG)。  
澄清池和沉淀池标准的设计方法是基于静态沉淀假设。在十九世纪70年代中期，一些研究者尤其是John Andrews的博士生进行沉淀单元的动力学建模研究。  
Mike Stenstrom教授 \(UCLA大学，洛杉矶，美国\)根据区域沉降理论（zone settling theroy）提出了沉淀池一维模型（Stenstrom, 1975）。该模型假设进水液面下的各层呈现区域沉降（zone settling）现象，底部区域发生污泥浓缩现象。同时根据Kynch假设污泥浓度和沉降速度呈负相关关系，这是沉降过程的关键限制因素。一般来说，在模型中沉淀速度表示为：

![](/ch05/ep3.JPG)

其中，vi是沉淀速度，![](/ch05/xi.JPG)指污泥浓度；![](/ch05/c1.JPG)和![](/ch05/c2.JPG)是常数。  
十九世纪80年代早期，澄清池的分层动力模型的研究几乎没有任何进展。澄清池模型应该将出水SS浓度和流量、进水浓度变化联系起来。当然，絮体的形成是澄清池沉淀效果的主要影响因素。Pflanz \(1969\)提出指出，出水SS和流量、进水浓度几乎是线性相关，呈现经验性静态关系（empirical static relationship）。

![](/ch05/eq4.JPG)

其中，![](/ch05/xe.JPG)指的是出水SS浓度，x指的是MLSS浓度，K是常数，A指沉淀池表面积，Q进水流速；![](/ch05/qr.JPG)回流污泥流速；

1975~1976年，Olsson教授课题组进行了验证性实验，实验在Stockholm的Kappala污水处理厂进行，如图5所示。进水流速是变量，以便研究出水SS的变化。为了更准确的研究MLSS和出水SS的关系，需要在流速不变的条件下获得变化的MLSS浓度，但这实际是不可能的。实际上，任何进水流速的变化都会引起MLSS浓度的变化。

![](/ch05/fig5.JPG)

图5. 进水流速、MLSS和出水SS浓度之间的相关关系图。在瑞典的Kappala污水处理厂进行实验，出水SS浓度和进水流速是一级动力学关系。

研究结果表明进水流速和和出水SS浓度可以用一级动力学模型来描述。模型采用进水流速作为输入与采用![](/ch05/q+qr..JPG)具有相同的精确度：

![](/ch05/ep5.JPG)

其中，时间常数T为55 min，K为0.06\(一般情况下其他发表文献中K值为0.08~0.1\)。需要特别强调的是该模型的目的并不是预测出水SS浓度。污泥床的影响没有考虑在内。该模型表明进水流速和出水SS浓度之间的关系是动态的。早期研究的最大的经验是进水泵必须得运行流畅。任何突然的变动（例如开停泵操作）均对出水水质有不利的影响。在十九世纪八十年代，Olsson教授课题组在加拿大伯灵顿污水技术中心进行了澄清池中试研究（Olsson and Chapman, 1985）。通过动态实验和参数识别发现，出水水质即受进水流速的影响，也与流速随时间的变化情况有关（当进水流速增大时）。如果进水流速降低时，最好的描述流速和出水水质的模型是一级模型。

Vitasovic \(1986, 1989\)进一步研究了二沉池沉淀模型（secondary settler model），他提出了两级指数通量模型，之后被Takacs采用（Takacs et al., 1991）:

![](/ch05/ep6.JPG)

其中，![](/ch05/ci.JPG)为常数；![](/ch05/xi1.JPG)代表颗粒中完全不能沉淀的部分。第一级指数表征沉淀过程，第二级指数表征澄清过程。在一维维度里描述进水点上部和下部的颗粒浓度变化的方法也应用于沉淀过程的模拟（Jeppsson et al., 2006）。在Vitasovic研究工作的基础上，许多模型发展起来（Takacs，2008）。最近关于二沉池沉淀模型的深化研究很多（Plosz et al., 2007, 2011; De Clercp et al., 2008; Abusam and Keesman, 2009; David et al., 2009a,b）。当然，需要做的研究工作还有很多。例如，我们还没有研究清楚活性污泥絮体和污泥沉淀性能之间的关系。正如Gujer（2011）通过调节生物动力学参数无法正确解释水力学上的现象。这是结构性错误所导致的，却错误的采用调节生化参数来矫正（参见5.4小节）。

## 5.3 动态模型求解

固体通量理论的基本假设是在每个垂直的沉淀层面上固体质量守恒，因此，模型的数学方程式是一个非线性偏微分方程。在十九世纪80年代晚期和90年代早期，Olsson教授课题组模拟了一维澄清池/沉淀池模型但是结果不理想。结果显示，污泥层的位置可能会突然下降。Vitasovic \(1986\)意识到这个问题后，在模型中简单地增加了一个附加条件：沉淀池中的污泥浓度距离底部越近时浓度越高。然而，从模型的角度来说，物理过程和模型方程的数值解不相匹配，这让人很不满意。一定是有的些地方没有考虑到。

Olsson决定与数学家们讨论解决这个问题。我们坚信一定有证据证明沉淀池模型方程存在唯一解。我不得不承认当我接近Lars Hormander和Lars Garding时我对这个假设的正确性开始疑虑，这两位都是隆德大学在偏微分方程方面的权威。我遇到的这个问题在数学上可能是简单到可以忽略。然而，这两位教授却接受了这个课题，同时Gunnar Sparr教授和他的学生Stefan Diehl开始专注于这个问题的解决。事实上，非线性偏微分方程方面的一些新的研究成果应用于我的问题求解上。在Stefan Diehl的硕士论文里描述了这个问题并找到解决的办法（Diehl et al., 1990）。Diehl充分证明了可以将沉淀速度表述为浓度的函数，类似于没有具体分析描述的凹函数。在连续流沉淀池中，沉淀池的进水口的地点具有不连续性。这是在用绝对的数学手段解决问题。在接下来Diehl的博士论文中（Diehl, 2011），Deihl讲述了鲁棒算法描述沉淀池方程的方法。此后，又有一系列相关的文章发表，形成了一套完整的数学框架体系解决沉淀池方程，其中有些关键性的成果（Diehl and Jeppsson, 1998; Diehl, 2011; Diehl and Faras, 2011）。这些成果的美妙之处在于他们指出了使模型模拟结果与沉淀池实际效果相吻合的建模关键点。从学术和建模角度，这是非常重要的成果。这不能改变我们对沉淀池沉淀行为的理解，但是能够方便建立更好的模型。Burger等的研究成果表明模型方程可以最终收敛得到一个准确的结果，只要改善模型的离散性。

## 5.4 模型中的不确定性

模型的准确度的最大值是由监测水平决定的。模型的不确定性受到许多因素的影响（Olsson and Newell, 1999），例如：

* 测量的不准确性：校准误差，传感器噪音，取样时间，传感器位置，分析技术；
* 过程噪音：非理想条件混合，外部扰动；
* 参数值：许多参数值很难估计，例如生长率、扩散速率。参数会随时间变化，因此需要更新。
* 结构性不确定性：是否所有相关的成分都已经考虑在内呢，例如死状菌或者更高级的微生物？
* 运行状态改变：出现了新的现象比如污泥膨胀

其中，一些不确定性随着研究的深入和知识的增多是可以消除的。一些却消除不了，比如进水的组分和浓度变化。

该如何考虑不确定性的影响呢？大部分设计人员在设计阶段采用增加安全系数的方法抵偿不确定性。控制工程师需要采用其他方式。不确定性意味着对各种各样参数的预测是不完美的（Beck, 1987）。因此，控制动作需要更加谨慎。一个更加安全谨慎的控制器，其步长会更小，因此需要更长的时间达到预期的工艺参数。不确定性控制或者随机控制是一种控制理论，在这种理论中不确定性和扰动被详细的考虑进模型中。另外一种是鲁棒性控制，在鲁棒控制的设计阶段，不确定性被完全考虑在内。如果一个控制系统可以包含大的不确定性和扰动，那么该控制系统是鲁棒的（FloresAlsina et al., 2008）。鲁棒性指数被提出用于评价不同的控制策略（Vanrolleghem and Gillot, 2002）。IWA成立了专门的设计和操作不确定性工作组（Belia et al., 2009）。该工作组的目的是解决基于模型的决策制定过程中的不确定性。不确定性需要更清楚地表达。即使在设计阶段依旧会使用安全系数作为参数，安全系数也可以更具体准确。为了解决这些问题，在2010年11月，十几个研究人员聚在一起讨论解决不同水学科上不确定性的不同方式。

